# Kubernetes Services
# Define how to access the applications within the cluster
---
# API Service
# Exposed via Ingress for external access
apiVersion: v1
kind: Service
metadata:
  name: api-service
  namespace: dev
  labels:
    app: api-service
    component: frontend
    tier: api
spec:
  type: ClusterIP
  selector:
    app: api-service
  ports:
    - name: http
      protocol: TCP
      port: 8000
      targetPort: 8000
  sessionAffinity: None

---
# Data Service
# Internal service only (ClusterIP)
# Not exposed externally - accessed only by API service
apiVersion: v1
kind: Service
metadata:
  name: data-service
  namespace: dev
  labels:
    app: data-service
    component: backend
    tier: data
spec:
  type: ClusterIP
  selector:
    app: data-service
  ports:
    - name: http
      protocol: TCP
      port: 8080
      targetPort: 8080
  sessionAffinity: None
